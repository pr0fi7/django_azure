{% extends 'base.html' %}

{% block title %}Users Right Management{% endblock %}

{% block styles %}
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f7f7f7;
    }

    .container {
        width: 90%;
        margin: 40px auto;
    }

    h1 {
        font-size: 20px;
        font-weight: normal;
        margin-bottom: 10px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    thead {
        background-color: #f7f7f7;
        border-bottom: 2px solid #007BFF;
    }

    thead th {
        text-align: left;
        padding: 12px 15px;
        font-size: 14px;
        color: #333;
    }

    tbody tr {
        border-bottom: 1px solid #ddd;
    }

    tbody td {
        padding: 12px 15px;
        font-size: 14px;
        color: #555;
        text-align: center;
    }

    tbody td:first-child {
        text-align: left;
    }

    tbody td i {
        cursor: pointer;
        padding: 5px;
        color: #333;
    }

    tbody td i:hover {
        color: #007BFF;
    }

    /* Permission buttons styling */
    .permissions {
        display: flex;
        justify-content: center;
        gap: 5px;
    }

    .permissions span {
        display: inline-block;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background-color: #ddd;
        line-height: 25px;
        text-align: center;
        color: #333;
        font-weight: bold;
        cursor: pointer;
        font-size: 14px;
    }

    .permissions span.active {
        background-color: #333;
        color: white;
    }

    .permissions span.read.active {
        background-color: #007BFF;
    }

    .permissions span.write.active {
        background-color: #FFA500;
    }

    .permissions span.admin.active {
        background-color: #FF0000;
    }

    .legend {
        margin-top: 20px;
        display: flex;
        justify-content: flex-end;
        align-items: center;
        gap: 15px;
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .legend-item span {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: inline-block;
        line-height: 20px;
        text-align: center;
        color: white;
        font-weight: bold;
    }

    .legend .read {
        background-color: #007BFF;
    }

    .legend .write {
        background-color: #FFA500;
    }

    .legend .admin {
        background-color: #FF0000;
    }

    .buttons-container {
        display: flex;
        justify-content: flex-end;
        gap: 20px;
        margin-top: 20px;
    }

    .buttons-container button {
        background-color: #ddd;
        color: #333;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .buttons-container button:hover {
        background-color: #ccc;
    }

    .footer {
        margin-top: 40px;
        text-align: center;
        font-size: 12px;
        color: #777;
    }

</style>
{% endblock %}

{% block content %}
    <!-- Include the navbar -->
    {% include 'navbar.html' %}
    <div class="container">
        <h1>Users Right Management</h1>
    
        <!-- Table showing users and permissions -->
        <table>
            <thead>
                <tr>
                    <th>Users</th>
                    <th>Role</th>
                    <th>All Comp</th>
                    <th>Rnd</th>
                    <th>Production</th>
                    <th>Marketing</th>
                    <th>Sales</th>
                    <th>Compliance</th>
                    <th>HR</th>
                </tr>
            </thead>
            <tbody>
                <!-- First row: Zénobe Gramme -->
                <tr>
                    <td>Zénobe Gramme <i class="fas fa-times"></i></td>
                    <td>Compliance Mng.</td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                </tr>

                <!-- Second row: Georges Lemaitre -->
                <tr>
                    <td>Georges Lemaitre <i class="fas fa-times"></i></td>
                    <td>RnD Head</td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                </tr>

                <!-- Third row: Georges Simenon -->
                <tr>
                    <td>Georges Simenon <i class="fas fa-times"></i></td>
                    <td>HR Mng.</td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                </tr>

                <!-- Fourth row: Mr Channel Zero -->
                <tr>
                    <td>Mr Channel Zero <i class="fas fa-times"></i></td>
                    <td>Sales Specialist</td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                </tr>

                <!-- Fifth row: Abra Cadabra -->
                <tr>
                    <td>Abra Cadabra <i class="fas fa-times"></i></td>
                    <td>Regulatory Head</td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write active">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read active">R</span><span class="write active">W</span><span class="admin">A</span>
                    </td>
                    <td class="permissions">
                        <span class="read">R</span><span class="write">W</span><span class="admin active">A</span>
                    </td>
                </tr>

            </tbody>
        </table>
    
        <!-- Legend for permission types -->
        <div class="legend">
            <div class="legend-item">
                <span class="read">R</span> Read
            </div>
            <div class="legend-item">
                <span class="write">W</span> Write
            </div>
            <div class="legend-item">
                <span class="admin">A</span> Admin
            </div>
        </div>
    
        <!-- Buttons at the bottom -->
        <div class="buttons-container">
            <button>Synchronize</button>
            <button>Save</button>
        </div>
    
        <div class="footer">
            <p>Footer: Version number: premvp 1.0 - supported files: zip, xls, txt, doc, pdf, ppt, jpg, png...</p>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script>
    const permissionButtons = document.querySelectorAll('.permissions span');
    permissionButtons.forEach(button => {
        button.addEventListener('click', () => {
            // Clear active state for all buttons in this permission group
            const siblings = button.parentElement.querySelectorAll('span');
            siblings.forEach(sibling => sibling.classList.remove('active'));

            // Set active state on the clicked button
            button.classList.add('active');
        });
    });
</script>
{% endblock %}
